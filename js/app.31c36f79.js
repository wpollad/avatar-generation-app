(function(){"use strict";var t={3319:function(t,n,e){var a=e(9242),r=e(3396);const o={class:"container"},i={ref:"canvas",class:"avatar-canvas"},c={class:"button-container"};function u(t,n,e,a,u,s){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("canvas",i,null,512),(0,r._)("div",c,[(0,r._)("button",{class:"recreate-button",onClick:n[0]||(n[0]=(...t)=>s.recreateAvatar&&s.recreateAvatar(...t))},"Пересоздать"),(0,r._)("button",{class:"download-button",onClick:n[1]||(n[1]=(...t)=>s.downloadAvatar&&s.downloadAvatar(...t))},"Скачать")])])}async function s(t){const n="/images/",e=".svg",a=`${n}head1${e}`,r=g(n,"body",6),o=g(n,"hair",11),i=g(n,"glasses",3),c=g(n,"eyes",5),u=g(n,"background",3),s=g(n,"mouth",7),f=g(n,"pet",4),l=g(n,"eyebrow",6);function g(t,n,a){return[...Array(a)].map(((a,r)=>`${t}${n}${r+1}${e}`))}const w=document.createElement("canvas"),v=w.getContext("2d");w.width=440,w.height=440;const m=[h(d(u)),h(a),h(d(r)),h(d(o)),h(d(i)),h(d(c)),h(d(s)),h(d(f)),h(d(l))],[p,y,b,x,O,_,k,$,C]=await Promise.all(m),I=[{image:p,x:0,y:0,width:w.width,height:w.height},{image:y,x:(w.width-y.width)/2,y:125},{image:b,x:(w.width-b.width)/2,y:290},{image:O,x:(w.width-O.width)/2,y:194},{image:_,x:(w.width-_.width)/2,y:200},{image:k,x:(w.width-k.width)/2,y:225},{image:x,x:(w.width-x.width)/2,y:57},{image:C,x:(w.width-C.width)/2,y:176},{image:$,x:-100,y:300}],A=-28;I.forEach((({image:t,x:n,y:e,width:a=t.width,height:r=t.height})=>{t===$?(v.save(),v.translate(n+a/2,e+r/2),v.rotate(A*Math.PI/180),v.drawImage(t,-a/2,-r/2,a,r),v.restore()):(t===k&&console.log(a),t===x&&a<200?v.drawImage(t,n,e+40,a,r):t===k&&a>110?v.drawImage(t,n,e-40,a,r):v.drawImage(t,n,e,a,r))})),t(w)}function d(t){return t[Math.floor(Math.random()*t.length)]}function h(t){return new Promise(((n,e)=>{const a=new Image;a.onload=()=>n(a),a.onerror=e,a.src=t}))}var f={mounted(){const t=this.$refs.canvas;t.width=440,t.height=440,s((n=>{t.getContext("2d").drawImage(n,0,0)}))},methods:{recreateAvatar(){const t=this.$refs.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height),s((n=>{t.getContext("2d").drawImage(n,0,0)}))},downloadAvatar(){const t=this.$refs.canvas,n=document.createElement("a");n.href=t.toDataURL("image/png"),n.download="avatar.png",n.click()}}},l=e(89);const g=(0,l.Z)(f,[["render",u]]);var w=g;(0,a.ri)(w).mount("#app")}},n={};function e(a){var r=n[a];if(void 0!==r)return r.exports;var o=n[a]={exports:{}};return t[a].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(n,a,r,o){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],r=t[d][1],o=t[d][2];for(var c=!0,u=0;u<a.length;u++)(!1&o||i>=o)&&Object.keys(e.O).every((function(t){return e.O[t](a[u])}))?a.splice(u--,1):(c=!1,o<i&&(i=o));if(c){t.splice(d--,1);var s=r();void 0!==s&&(n=s)}}return n}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,r,o]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,a){var r,o,i=a[0],c=a[1],u=a[2],s=0;if(i.some((function(n){return 0!==t[n]}))){for(r in c)e.o(c,r)&&(e.m[r]=c[r]);if(u)var d=u(e)}for(n&&n(a);s<i.length;s++)o=i[s],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(d)},a=self["webpackChunkavatar_generation_app"]=self["webpackChunkavatar_generation_app"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(3319)}));a=e.O(a)})();
//# sourceMappingURL=app.31c36f79.js.map